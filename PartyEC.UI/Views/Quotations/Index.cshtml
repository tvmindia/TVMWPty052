@model PartyEC.UI.Models.QuotationsViewModel
@{
    ViewBag.Title = "Quotations";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}
@section styles {
    @Styles.Render("~/Content/DataTables/css/datatable")

}





<div class="container-fluid">
    <div class="panel with-nav-tabs panel-primary">
        <div class="panel-heading">
            <ul class="nav nav-tabs">
                <li class="active"><a href="#Tab1" id="tabQuotationsList" data-toggle="tab">Quotations List</a></li>
                <li><a href="#Tab2" id="tabQuotationsDetails" data-toggle="tab">Quotations Details</a></li>
            </ul>
        </div>
        <div class="panel-body">
            <div class="tab-content">
                <div class="tab-pane fade in active" id="Tab1">
                    <div class="" id="btnPatchEdittab1">
                        @{
                            PartyEC.UI.Models.ToolboxViewModel ToolBoxControltab1 = new PartyEC.UI.Models.ToolboxViewModel();
                            ToolBoxControltab1.addbtn.Visible = true;
                            ToolBoxControltab1.addbtn.Event = "btnAddNew()";
                            ToolBoxControltab1.addbtn.Title = "Add New";
                            Html.RenderPartial("_ToolboxView", ToolBoxControltab1);
                        }
                    </div>
                    <h4> Quotations List </h4>
                    @*table*@
                    <table id="tblQuotationsList" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Quotations No</th>
                                <th>Quotations Date</th>
                                <th>Customer Name</th>
                                <th>Contact No</th>
                                <th>Required Date</th>
                                <th>Quotations Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                    </table>
                    @*table*@
                </div>
                <div class="tab-pane fade" id="Tab2">
                    <div class="col-md-12">
                        <div class="" id="btnPatchEdittab2">
                            @{
                                PartyEC.UI.Models.ToolboxViewModel ToolBoxControltab2 = new PartyEC.UI.Models.ToolboxViewModel();
                                ToolBoxControltab2.deletebtn.Visible = true;
                                ToolBoxControltab2.resetbtn.Visible = true;
                                ToolBoxControltab2.savebtn.Visible = true;
                                ToolBoxControltab2.backbtn.Visible = true;
                                ToolBoxControltab2.deletebtn.Event = "clickdelete()";
                                ToolBoxControltab2.deletebtn.Title = "Delete";
                                ToolBoxControltab2.resetbtn.Event = "btnreset()";
                                ToolBoxControltab2.resetbtn.Title = "Reset";
                                ToolBoxControltab2.savebtn.Event = "clicksave()";
                                ToolBoxControltab2.savebtn.Title = "Save";
                                ToolBoxControltab2.backbtn.Event = "goback()";
                                ToolBoxControltab2.backbtn.Title = "Back";
                                Html.RenderPartial("_ToolboxView", ToolBoxControltab2);
                            }
                        </div>
                        <h3>Quotations Details</h3>
                        <hr />
                        <div class="col-md-12" id="QuotationsDetails">
                            <div class="col-md-2">
                                @* left hand side Tab  *@
                                <div class="panel with-nav-tabs js panel-primary">
                                    <div class="panel-heading" style="min-height:300px">
                                        <ul class="nav nav-tabs nav-stacked">
                                            <li class="active"><a href="#general" data-toggle="tab" id="tabGeneral">General</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-content EventTabContent">
                                <div class="tab-pane fade in active" id="general">
                                    <div class="col-md-10">
                                        <div class="col-md-12">
                                            <div class="col-md-6">
                                                <div class="panel panel-default" style="min-height:250px">
                                                    <div class="panel-heading">General</div>
                                                    <div class="panel-body">
                                                        <div class="col-md-12"> </div>
                                                            @Html.LabelFor(model => model.QuotationReqNo, htmlAttributes: new { @class = "h5 col-md-4" })
                                                            <div class="col-md-8">
                                                                @*style="font-weight:bold"*@
                                                                <label id="lblQuotationsNo" class="h5 label-display">-</label>
                                                            </div>                                                       
                                                        <div class="col-md-12"></div>
                                                            @Html.LabelFor(model => model.QuotationDate, htmlAttributes: new { @class = "h5 col-md-4" })
                                                            <div class="col-md-8">
                                                                @*style="font-weight:bold"*@
                                                                <label id="lblQuotationDate" class="h5 label-display">-</label>
                                                            </div>
                                                        
                                                        <div class="col-md-12"></div>
                                                            @Html.LabelFor(model => model.RequiredDate, htmlAttributes: new { @class = "h5 col-md-4" })
                                                            <div class="col-md-8">
                                                                @*style="font-weight:bold"*@
                                                                <label id="lblRequiredDate" class="h5 label-display">-</label>
                                                            </div>
                                                       
                                                        <div class="col-md-12"> </div>
                                                            @Html.LabelFor(model => model.Status, htmlAttributes: new { @class = "h5 col-md-4" })
                                                            <div class="col-md-8">
                                                                @*style="font-weight:bold"*@
                                                                <label id="lblStatus" class="h5 label-display">ddlist</label>
                                                            </div>

                                                      
                                                            <div class="col-md-6">
                                                                <input type="submit" id="BtnSave"  value="Save" class="btn btn-default btn-right" />
                                                            </div>
                                                      
                                                       
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="panel panel-default" style="min-height:250px">
                                                    <div class="panel-heading">Account Information</div>
                                                    <div class="panel-body">
                                                        <div class="col-md-12">
                                                            <img src="~/Content/images/Person1.png" id="imgPreviewCustomer" />
                                                        </div>
                                                        <div class="col-md-12"></div>
                                                        @Html.LabelFor(model => model.customer.Name, htmlAttributes: new { @class = "h5 col-md-4" })
                                                        <div class="col-md-8">
                                                            @*style="font-weight:bold"*@
                                                            <label id="lblCustomerName" class="h5 label-display">-</label>
                                                        </div>
                                                        <div class="col-md-12"></div>
                                                        @Html.LabelFor(model => model.customer.Mobile, htmlAttributes: new { @class = "h5 col-md-4" })
                                                        <div class="col-md-8">
                                                            @*style="font-weight:bold"*@
                                                            <label id="lblContactNo" class="h5 label-display">-</label>
                                                        </div>
                                                        <div class="col-md-12"></div>
                                                        @Html.LabelFor(model => model.customer.Email, htmlAttributes: new { @class = "h5 col-md-4" })
                                                        <div class="col-md-8">
                                                            @*style="font-weight:bold"*@
                                                            <label id="lblCustomerEmail" class="h5 label-display">-</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <h3>Quotations Item Details</h3>
                                                <hr />
                                                <table id="tblQuotationsItemDetail" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
                                                    <thead>
                                                        <tr>
                                                            <th>Item Status</th>
                                                            <th>Qty</th>
                                                            <th>Item Status</th>
                                                            <th>Price</th>                                                           
                                                            <th>Sub Total</th>                                                            
                                                            <th>Tax Amount</th>
                                                            <th>Discount</th>
                                                            <th>Total</th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="panel panel-default" style="min-height:250px">
                                                    <div class="panel-heading">Customer Message</div>
                                                    <div class="panel-body"> 
                                                        <div class="col-md-12"></div>
                                                        @Html.LabelFor(model => model.Message, htmlAttributes: new { @class = "h5 col-md-4" })
                                                        <div class="col-md-8">
                                                            @*style="font-weight:bold"*@
                                                            <label id="lblCustomerName" class="h5 label-display">-</label>
                                                        </div> 
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                @using (Ajax.BeginForm("", "", new AjaxOptions { HttpMethod = "POST", Confirm = "", OnFailure = "NetworkFailure", AllowCache = false, OnComplete = "CheckinCommentInsert" }, new { @class = "form-horizontal", role = "form", id = "formComments" }))
                                                {
                                                    @Html.AntiForgeryToken()
                                                    <div class="panel panel-default" style="min-height:250px">
                                                        <div class="panel-heading">Order Comments</div>
                                                        <div class="panel-body">
                                                            <div class="form-group col-md-12">
                                                                @Html.LabelFor(model => model.EventsLogViewObj.Comment, htmlAttributes: new { @class = "control-label col-md-6" })
                                                                <div class="col-md-12">
                                                                    @Html.TextAreaFor(model => model.EventsLogViewObj.Comment, new { @class = "form-control" })
                                                                    @Html.ValidationMessageFor(model => model.EventsLogViewObj.Comment, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12"></div> 

                                                            <div class="">
                                                                <div class="col-md-6"> 
                                                                    <input type="submit" value="Submit Comment" class="btn btn-default btn-right" />
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12"></div>
                                                            <div class="form-group col-md-12">
                                                                <hr />
                                                                <label id="lblHistroy" class="control-label" style="font-size:14px;margin-left:1%">Earlier Comments</label>

                                                                <div style="height: 150px;width: 107%;overflow: hidden;position: relative;">
                                                                    <div id="CommentsDisplay" style="max-height: 150px;min-height: 150px;overflow-y: auto;position: absolute;top: 0px;bottom: 0px;left: 0px;right: -15px;white-space: pre;">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                            <div class="col-md-6">
                                                <div class="panel panel-default" style="min-height:250px">
                                                    <div class="panel-heading">Quotation Totals</div>
                                                    <div class="panel-body"> 
                                                        <div class="col-md-12"></div>
                                                        @Html.LabelFor(model => model.SubTotal, htmlAttributes: new { @class = "h5 col-md-4" })
                                                        <div class="col-md-8">
                                                            @*style="font-weight:bold"*@
                                                            <label id="lblSubTotal" class="h5 label-display">-</label>
                                                        </div>
                                                        <div class="col-md-12"></div>
                                                        @Html.LabelFor(model => model.AdditionalCharges, htmlAttributes: new { @class = "h5 col-md-4" })
                                                        <div class="col-md-8">
                                                            @*style="font-weight:bold"*@
                                                            <label id="lblAdditionalCharges" class="h5 label-display">-</label>
                                                        </div>
                                                        <div class="col-md-12"></div>
                                                        @Html.LabelFor(model => model.GrandTotal, htmlAttributes: new { @class = "h5 col-md-4" })
                                                        <div class="col-md-8">
                                                            @*style="font-weight:bold"*@
                                                            <label id="lblGrandTotal" class="h5 label-display">-</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>







 
                 
             





@section Scripts {
    @Scripts.Render("~/bundles/datatable")
    @Scripts.Render("~/bundles/jqueryunobtrusiveajaxvalidate")
    @Scripts.Render("~/bundles/Quotations")
}
